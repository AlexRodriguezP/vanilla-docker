server {

    server_name sso.dev;
    listen 80;

    listen 443 ssl;
    ssl_certificate      /etc/nginx/cert/ssl.self.pem;
    ssl_certificate_key  /etc/nginx/cert/ssl.self.key;

    root /srv/sso;
    index login.php;

    location ^~ "/favicon.ico" { access_log off; log_not_found off; return 404; }

    # If it is a php script allow it.
    location ~* "\.php" {
        # send to fastcgi
        include fastcgi.conf;
        fastcgi_pass php-fpm;
    }

    # Default location
    location / {
        try_files $uri /login.php;
    }
}
